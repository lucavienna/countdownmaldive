<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Countdown Maldive</title>

  <!-- Google Font: Gluten Bold -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Gluten:wght@700&display=swap" rel="stylesheet">

  <style>
    :root{
      --font: "Gluten", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

      /* Mobile-first: font fluidi e più “vertical-friendly” */
      --title-size: clamp(22px, 4.6vw, 40px);
      --sub-size: clamp(16px, 3.2vw, 26px);
      --timer-size: clamp(24px, 5.6vw, 46px);

      /* Colore testo scelto */
      --text-color: #163455;

      /* Posizione blocco testo su immagine verticale */
      --anchor-y: 34vh;  /* tipico range: 30–40vh */

      /* Overlay quasi zero (foto pulita) */
      --overlay: rgba(0,0,0,0);
    }

    html, body { height: 100%; margin: 0; }

    body{
      font-family: var(--font);
      color: var(--text-color);
      background: url("./bg.jpg") center/cover no-repeat;
      /* Su mobile "fixed" spesso lagga: meglio scroll */
      background-attachment: scroll;
    }

    .overlay{
      min-height: 100%;
      position: relative;
      background: linear-gradient(var(--overlay), var(--overlay));
    }

    /* Blocco testo (senza box) */
    .hero{
      position: absolute;
      left: 50%;
      top: var(--anchor-y);
      transform: translate(-50%, -50%);
      text-align: center;

      /* ZERO a capo */
      white-space: nowrap;

      /* Non oltre i bordi */
      max-width: 96vw;

      /* Micro padding per evitare edge-touch */
      padding: 6px 10px;
    }

    /* Floating */
    .floating{
      animation: floaty 6.2s ease-in-out infinite;
    }
    @keyframes floaty{
      0%, 100% { transform: translate(-50%, -50%) translateY(0px); }
      50%      { transform: translate(-50%, -50%) translateY(-8px); }
    }

    h1{
      margin: 0 0 8px;
      font-size: var(--title-size);
      font-weight: 700;
      letter-spacing: -0.02em; /* aiuta a non sforare su mobile */
      text-transform: none;

      /* glow chiaro (per separare dal blu del cielo) */
      text-shadow: 0 6px 18px rgba(255,255,255,.35);
    }

    .sub{
      margin: 0 0 10px;
      font-size: var(--sub-size);
      font-weight: 700;
      letter-spacing: -0.01em;
      opacity: .95;
      text-shadow: 0 6px 18px rgba(255,255,255,.30);
    }

    .timer{
      font-size: var(--timer-size);
      font-weight: 700;
      line-height: 1.12;
      letter-spacing: -0.015em;
      text-shadow: 0 6px 20px rgba(255,255,255,.35);

      /* breathing premium (molto leggero) */
      animation: breathe 4.2s ease-in-out infinite;
    }

    @keyframes breathe{
      0%, 100% { transform: scale(1); filter: brightness(1); }
      50%      { transform: scale(1.015); filter: brightness(1.06); }
    }

    /* Tick quando cambia il minuto */
    .timer.tick{
      animation: tick 260ms ease-out, breathe 4.2s ease-in-out infinite;
    }
    @keyframes tick{
      0%   { transform: scale(1); filter: brightness(1); }
      50%  { transform: scale(1.035); filter: brightness(1.12); }
      100% { transform: scale(1); filter: brightness(1); }
    }

    /* Piccolo fine-tuning per schermi molto stretti */
    @media (max-width: 380px){
      :root{
        --anchor-y: 36vh;
      }
      h1{ letter-spacing: -0.03em; }
      .timer{ letter-spacing: -0.03em; }
    }

    /* Desktop: puoi rialzare un filo se vuoi */
    @media (min-width: 900px){
      :root{
        --anchor-y: 32vh;
      }
      body{ background-attachment: fixed; }
    }
  </style>
</head>

<body>
  <div class="overlay">
    <div class="hero floating">
      <h1>ALLE NOSTRE VACANZE ALLE MALDIVE</h1>
      <p class="sub">mancano ancora</p>
      <div class="timer" id="timer">—</div>
    </div>
  </div>

  <script>
    // Target: 13 giugno 2026 10:00 in Italia (Europe/Rome).
    // A giugno l'Italia è in ora legale (UTC+2), quindi 10:00 Rome = 08:00 UTC.
    const targetUTC = Date.UTC(2026, 5, 13, 8, 0, 0); // 5=Giugno (0=Gennaio)

    let lastRendered = "";

    function tick(){
      const now = Date.now();
      const el = document.getElementById("timer");
      const diffMs = targetUTC - now;

      if (diffMs <= 0){
        el.textContent = "0 giorni, 00 ore e 00 minuti";
        return;
      }

      const totalMinutes = Math.floor(diffMs / 60000);
      const days = Math.floor(totalMinutes / (60 * 24));
      const hours = Math.floor((totalMinutes % (60 * 24)) / 60);
      const minutes = totalMinutes % 60;

      const nextText =
        `${days} giorni, ${String(hours).padStart(2,"0")} ore e ${String(minutes).padStart(2,"0")} minuti`;

      if (nextText !== lastRendered){
        el.textContent = nextText;

        // tick animation
        el.classList.remove("tick");
        void el.offsetWidth; // reflow per riattivare animazione
        el.classList.add("tick");

        lastRendered = nextText;
      }
    }

    tick();
    setInterval(tick, 1000);
  </script>
</body>
</html>
